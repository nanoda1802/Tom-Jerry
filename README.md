# Tom-Jerry

### 프로젝트 소개

> 불쌍한 톰이 오늘도 제리에게 쫓기고 있습니다!!
> 톰이 무사히 집으로 돌아갈 수 있도록 도와주세요!!

플레이어는 톰이 되어 쫓아오는 제리를 피해 도망가야 합니다!
도망치며 발견한 코인들을 통해 점수를 모아보세요!
하지만 톰의 앞길엔 이를 방해하는 작은 제리들이 등장합니다...
우연히 럭키 아이템을 얻는다면 이로운 효과를 얻을 수 있을지도 모릅니다!

---

### 조작 및 설명

1. 스페이스키를 누르면 톰이 점프합니다. 장애물을 피하며 최대한 많은 코인을 모아보세요!
2. 작은 제리들 중엔 튀어오르는 녀석들도 있습니다!! 갑작스레 충돌하지 않도록 주의하세요!
3. 코인을 먹으며 점수를 모아보세요! 코인의 점수는 스테이지에 비례해 증가합니다!
4. 럭키아이템인 별을 활용해보세요! 일정 시간 동안 장애물 충돌을 무시합니다!
5. 작은 제리들과 충돌할 시 게임 오버 입니다!!

---

### 디렉토리 구성

디렉토리는 크게 `assets`, `public`, `src`로 구성됩니다.

- **assets**
  - 게임에 필요한 재료 데이터들을 json 객체 형태로 보관하는 디렉토리
  - redis 연동 시 사라질 수 이씀
- **public**
  - 클라이언트 환경에서 필요한 html, css, script 파일 및 이미지 파일 등을 보관하는 디렉토리
- **src**
  - 서버 환경에서 필요한 앱, 핸들러, 시작파일, 모델 등을 보관하는 디렉토리

---

### 기능 설명

내용 추가 예정

---

### 기능 구현 리스트

- **공통**
  - [x] _<241217 AM12>_ 상수로 구현된 부분들 데이터테이블에서 참조하도록 수정
  - [x] _<241218 PM16>_ item_unlock.json 파일 제거 및 관련 코드 삭제 -> item 테이블에서 stage 필드 추가해 대체
  - [ ] handleDisconnect 확인, 이거 왜 undefined 뜨고 있지요????
- **점수**
  - [x] _<241213 PM15>_ 시간 비례 증가 X, 코인 획득 증가 O
  - [ ] 하이스코어 갱신 방법 변경
  - gameEnd() 함수 점수 검증 로직 최적화
    - [x] _<241218 PM16>_ 이론상 획득 가능한 최대 점수를 초과하진 않는지
    - [x] _<241218 PM16>_ 서버에서 계산한 총점과 일치하는지 (점수 획득 로직이 바뀌어서 조정해야함)
    - [x] _<241218 PM16>_ 클리어일 시 플레이 시간이 총 시간과 비교해서 적절한지
    - [ ] 검증 실패 시 하이스코어 갱신 X
- **스테이지**
  - [x] _<241213 PM15>_ 1단계 시작, 최대 5단계, 5단계 종료 시 게임 클리어
  - [x] _<241213 PM15>_ 시간 경과에 따른 스테이지 승급
  - [x] _<241213 PM15>_ 화면 상단 중앙에 현재 스테이지 텍스트 표시 `Stage N`
  - [x] _<241217 AM12>_ 스테이지 별 속도 차등화
  - 스테이지 승급 관련 서버 검증 프로세스
- **플레이어**
  - [x] _<241213 AM11>_ 기본 위치 조정
- **장애물**
  - [x] _<241213 AM11>_ 기본 위치 조정
  - [ ] 유형 개편 -> 점프 제리, 그냥 제리
- **보스**
  - [x] _<241213 AM11>_ `Boss` 클래스 모듈 생성
  - [x] _<241213 AM11>_ index.js에 관련 설정 추가
- **아이템**
  - [x] _<241213 AM11>_ 점수 획득 위한 코인 `Coin` 구현
  - [x] _<241213 PM18>_ `Coin`은 스테이지에 비례해 획득 점수 UP
  - [x] _<241213 PM18>_ 코인 등장 y값 최적화
  - [x] _<241213 AM11>_ 럭키 아이템 별 `Star` 구현
  - [x] _<241213 PM18>_ `Star`와 충돌 시 점수 대량 획득
  - [x] _<241213 PM20>_ `Star`와 충돌 시 일정 프레임 동안 장애물 충돌 무시
  - 아이템 공통 서버 검증 프로세스
    - [x] _<241217 PM16>_ 획득 점수가 아이템 별 점수와 일치하는지
    - [x] _<241217 PM16>_ 획득 주기가 생성 주기와 비교해서 적절한지
    - [x] 검증 실패 시 점수 획득 X
  - 코인 획득 관련 서버 검증 프로세스
    - [x] _<241217 PM16>_ 획득 아이템이 획득 스테이지에 적합한지
  - ~~별 획득 관련 서버 검증 프로세스~~
    - [ ] ~~효과 유지 프레임이 데이터 테이블의 정보와 비교해서 적절한지~~
    - [ ] ~~검증 실패 시 효과 즉시 종료~~
- **채팅**
  - [ ] 관전자가 있어서 보면서 채팅치며 소통할 수 있는?!
